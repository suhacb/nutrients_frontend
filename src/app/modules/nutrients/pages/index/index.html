<app-breadcrumb-component [links]="store.breadcrumb()"></app-breadcrumb-component>

<div class="search-container">
    <form (ngSubmit)="onSearch()" #searchForm="ngForm" class="search-form">
      <mat-form-field appearance="outline" class="search-field">
        <mat-icon matPrefix>eco</mat-icon>
        <mat-label>Search nutrients</mat-label>
        <input
          matInput
          type="text"
          name="query"
          [(ngModel)]="searchQuery"
          placeholder="Type your query"
        />
      </mat-form-field>
    
      <button mat-flat-button color="primary" type="submit" class="search-button">
        <mat-icon>search</mat-icon>
      </button>
    </form>
</div>

<div class="results-container" *ngIf="store.nutrients().length > 0">
    <mat-card *ngFor="let nutrient of store.nutrients(); trackBy: trackByIndex" class="result-card" appearance="outlined">
        <mat-card-title>
            <a href="#" (click)="showNutrient(nutrient, $event)">{{ nutrient.name }}</a>
        </mat-card-title>
        <mat-card-content>
        {{ nutrient.description ?? "Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis eius harum deserunt? Temporibus debitis, explicabo delectus neque placeat voluptate error deleniti recusandae voluptatem. Distinctio repellendus consectetur aliquam rerum, dolores dolor?" }}
        </mat-card-content>
    </mat-card>
</div>

<!--
@if(store.paginator()) {
    <div>
        <mat-paginator [length]="store.paginator()?.total" [pageSize]="store.paginator()?.perPage" (page)="onPageEvent($event)"></mat-paginator>
    </div>
}

<div>
    <mat-list>
    @for (nutrient of store.nutrients(); track nutrient.id) {
        <mat-list-item>
            <div class="record-container">
                <div class="left-section">
                    
                    <div matListItemTitle>{{nutrient.name}}</div>
                    <div matListItemLine>Source: {{nutrient.source}}</div>
                </div>
                <div class="center-section">

                </div>
                <div class="right-section">
                    <button mat-icon-button (click)="onShowClick(nutrient.id); $event.stopPropagation()"  aria-label="Show">
                        <mat-icon>visibility</mat-icon>
                    </button>
                </div>
            </div>
        </mat-list-item>
    }
    </mat-list>
</div>
@if(store.paginator()) {
    <div>
        <mat-paginator [length]="store.paginator()?.total" [pageSize]="store.paginator()?.perPage" (page)="onPageEvent($event)"></mat-paginator>
    </div>
}
    -->